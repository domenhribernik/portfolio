<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Uncatchable Divorce Button</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .divorce-button {
            position: absolute;
            padding: 20px 40px;
            font-size: 24px;
            font-weight: bold;
            color: white;
            background: linear-gradient(45deg, #ff4757, #ff3742);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 71, 87, 0.4);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            text-transform: uppercase;
            letter-spacing: 2px;
            z-index: 10;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        .divorce-button.moving {
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform: scale(0.9) rotate(180deg);
        }

        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            font-size: 20px;
            color: #333;
            z-index: 2000;
            display: none;
            max-width: 90%;
            backdrop-filter: blur(10px);
            border: 3px solid #ff4757;
        }

        .message h2 {
            color: #ff4757;
            margin-bottom: 20px;
            font-size: 28px;
            font-weight: bold;
        }

        .message p {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .divorce-button {
                padding: 15px 30px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <button class="divorce-button" id="divorceBtn">
        DIVORCE
    </button>

    <div class="message" id="message">
        <h2>NO! ðŸ˜­</h2>
        <p>I won't let you divorce me!</p>
    </div>

    <script>
        let isMoving = false;
        let hasBeenClicked = false;
        const button = document.getElementById('divorceBtn');
        const message = document.getElementById('message');
        
        // Sound effects (using Web Audio API for cross-browser compatibility)
        function playBounceSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                // Fallback: no sound if Web Audio API fails
                console.log('Audio not supported');
            }
        }

        function getRandomPosition() {
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const buttonWidth = button.offsetWidth;
            const buttonHeight = button.offsetHeight;
            
            // Get current button position
            const currentRect = button.getBoundingClientRect();
            const currentX = currentRect.left + currentRect.width / 2;
            const currentY = currentRect.top + currentRect.height / 2;
            
            // Increased margin for better escape area
            const margin = 60;
            const minDistance = 300; // Minimum distance to move
            
            let x, y, distance;
            let attempts = 0;
            
            // Keep trying until we find a position at least 300px away
            do {
                const maxX = windowWidth - buttonWidth - margin;
                const maxY = windowHeight - buttonHeight - margin;
                
                x = Math.random() * maxX + margin;
                y = Math.random() * maxY + margin;
                
                // Calculate distance from current position
                const newCenterX = x + buttonWidth / 2;
                const newCenterY = y + buttonHeight / 2;
                distance = Math.sqrt(Math.pow(newCenterX - currentX, 2) + Math.pow(newCenterY - currentY, 2));
                
                attempts++;
            } while (distance < minDistance && attempts < 20); // Safety limit
            
            return { x, y };
        }

        function moveButton() {
            if (isMoving || hasBeenClicked) return;
            
            isMoving = true;
            button.classList.add('moving');
            
            // Play sound and vibrate (mobile)
            playBounceSound();
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            const newPos = getRandomPosition();
            
            // Move immediately without delay for instant response
            button.style.left = newPos.x + 'px';
            button.style.top = newPos.y + 'px';
            
            setTimeout(() => {
                button.classList.remove('moving');
                isMoving = false;
            }, 300);
        }

        function handleSuccessfulClick() {
            hasBeenClicked = true;
            
            // Show the surrender message
            message.style.display = 'block';
            
            // Hide the button with a dramatic fade out
            button.style.transition = 'all 0.5s ease-out';
            button.style.opacity = '0';
            button.style.transform = 'scale(0.5) rotate(720deg)';
            
            setTimeout(() => {
                button.style.display = 'none';
            }, 500);
        }

        // Desktop: Move on hover
        button.addEventListener('mouseenter', (e) => {
            if (hasBeenClicked) return;
            e.preventDefault();
            moveButton();
        });

        // Mobile: Move on touch start
        button.addEventListener('touchstart', (e) => {
            if (hasBeenClicked) return;
            e.preventDefault();
            moveButton();
        });

        // If someone actually manages to click it (nearly impossible!)
        button.addEventListener('click', (e) => {
            e.preventDefault();
            if (!hasBeenClicked && !isMoving) {
                // They actually clicked it! Show defeat message
                handleSuccessfulClick();
            } else if (!hasBeenClicked) {
                // Last ditch effort to escape
                moveButton();
            }
        });

        // Also prevent mousedown for extra protection
        button.addEventListener('mousedown', (e) => {
            if (hasBeenClicked) return;
            e.preventDefault();
            moveButton();
        });

        // Initialize button position to center
        button.style.left = '50%';
        button.style.top = '50%';
        button.style.transform = 'translate(-50%, -50%)';

        // Handle window resize
        window.addEventListener('resize', () => {
            if (!isMoving) {
                const rect = button.getBoundingClientRect();
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;
                
                // If button is outside viewport after resize, move it back
                if (rect.right > windowWidth || rect.bottom > windowHeight || rect.left < 0 || rect.top < 0) {
                    const newPos = getRandomPosition();
                    button.style.left = newPos.x + 'px';
                    button.style.top = newPos.y + 'px';
                }
            }
        });
    </script>
</body>
</html>